@model Design_and_Supervion_Issue_Tracking.Models.ModelProjectInitiation


<div class="panel panel-primary">
    <div class="panel-heading"><h2>Edit Tender</h2></div>
    <div class="panel-body">
        @Html.Raw(ViewBag.msg1);

        @using (Html.BeginForm("Edit", "ProjectInitiation", FormMethod.Post,
            new { enctype = "multipart/form-data" }))

        {
            @Html.AntiForgeryToken()


            <div class="form-horizontal">



                <hr />
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                @Html.HiddenFor(model => model.id)



                <div class="form-group row">
                    @Html.LabelFor(model => model.projectno, "Project Name: ", new { @class = "control-label col-md-2" })
                    <div class="col-sm-12 col-md-9 col-lg-10">
                        @Html.DropDownListFor(model => model.projectno, ViewBag.projectno as SelectList, "--Select--", new { @class = "form-control" })

                        @Html.ValidationMessageFor(model => model.projectno, "", new { @class = "text-danger" })
                    </div>

                </div>

                <div class="form-group row">
                    @Html.LabelFor(model => model.clientno, "Client Name: ", new { @class = "control-label col-md-2" })
                    <div class="col-sm-12 col-md-9 col-lg-10">
                        @Html.DropDownListFor(model => model.clientno, ViewBag.clientno as SelectList, "--Select--", new { @class = "form-control" })

                        @Html.ValidationMessageFor(model => model.clientno, "", new { @class = "text-danger" })
                    </div>

                </div>

                <div class="form-group row">
                    @Html.LabelFor(model => model.ResponsibleDeptId, "Responsible Department : ", new { @class = "control-label col-md-2" })
                    <div class="col-sm-12 col-md-9 col-lg-10">
                        @Html.DropDownListFor(model => model.ResponsibleDeptId, ViewBag.ResponsibleDeptId as SelectList, "--Select--", new { @class = "form-control" })

                        @Html.ValidationMessageFor(model => model.ResponsibleDeptId, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="form-group row">
                    @Html.LabelFor(model => model.ProjectManagerid, "Project Manager: ", new { @class = "control-label col-md-2" })
                    <div class="col-sm-12 col-md-9 col-lg-10">
                        @Html.DropDownListFor(model => model.ProjectManagerid, ViewBag.ProjectManagerid as SelectList, "--Select--", new { @class = "form-control" })

                        @Html.ValidationMessageFor(model => model.ProjectManagerid, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="form-group row">
                    @Html.LabelFor(model => model.BranchId, "Branch : ", new { @class = "control-label col-md-2" })
                    <div class="col-sm-12 col-md-9 col-lg-10">
                        @Html.DropDownListFor(model => model.BranchId, ViewBag.ResponsibleDeptId as SelectList, "--Select--", new { @class = "form-control" })

                        @Html.ValidationMessageFor(model => model.BranchId, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="form-group row">
                    @Html.LabelFor(model => model.AcceptanceLetterno, "Acceptance Letter : ", new { @class = "control-label col-md-2" })
                    <div class="col-sm-12 col-md-9 col-lg-10">
                        @Html.DropDownListFor(model => model.AcceptanceLetterno, ViewBag.AcceptanceLetterno as SelectList, "--Select--", new { @class = "form-control" })

                        @Html.ValidationMessageFor(model => model.AcceptanceLetterno, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="form-group row">
                    @Html.LabelFor(model => model.kickoffmeetingLetterno, "Kickoff Letter : ", new { @class = "control-label col-md-2" })
                    <div class="col-sm-12 col-md-9 col-lg-10">
                        @Html.DropDownListFor(model => model.kickoffmeetingLetterno, ViewBag.AcceptanceLetterno as SelectList, "--Select--", new { @class = "form-control" })

                        @Html.ValidationMessageFor(model => model.kickoffmeetingLetterno, "", new { @class = "text-danger" })
                    </div>
                </div>
                                                            
                <div class="form-group row">
                    @Html.LabelFor(model => model.kickoffmeetingminute, htmlAttributes: new { @class = "col-sm-12 col-md-3 col-lg-2 col-form-label" })
                    <div class="col-md-4 mb-0">
                        @Html.HiddenFor(model => model.kickoffmeetingminute, new { htmlAttributes = new { @class = "form-control" } })
                        <img src="@Url.Content(Session["kickoffmeetingminute"].ToString())" width="50" height="50" />
                        <input type="file" accept=".jpg,.jpeg,.png,jpe" name="file" id="file" />
                    </div>

                </div>

                <div class="form-group row">
                    @Html.LabelFor(model => model.remark, "Remark ", new { @class = "col-sm-12 col-md-3 col-lg-2 col-form-label" })
                    <div class="col-sm-12 col-md-9 col-lg-10">
                        @Html.TextAreaFor(model => model.remark, new { @class = "form-control", @rows = "6" })
                        @Html.ValidationMessageFor(model => model.remark, "", new { @class = "text-danger" })
                    </div>
                </div>


                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <input type="submit" value="Save" class="btn btn-default" />
                    </div>
                </div>
            </div>
        }

    </div>

</div>
<div>
    @Html.ActionLink("Back to Cause List", "Index", "ProjectInitiation", new { id = Session["EmpID"], subid = Session["SubDepartmentID"] }, null)
</div>


@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/jqueryval")
<script src="~/Scripts/jquery-3.3.1.js"></script>
<script type="text/javascript">

    $(document).ready(function () {
        $("#ResponsibleDeptId").change(function () {
            var DepId = $(this).val();
            debugger
            $.ajax({
                type: "post",
                url: "/Tender/GetSelectedEmployee?SubDepartment=" + DepId,
                contentType: "html",
                success: function (response) {
                   // debugger
                    $("#ProjectManagerid").empty();
                    $("#ProjectManagerid").append(response);
                }
            })

        })

    });



    



</script>






