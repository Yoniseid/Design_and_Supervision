@{
    Layout = "~/Views/Shared/_Layout.cshtml";

}
@model Design_and_Supervion_Issue_Tracking.Models.ModelTender

<div class="panel panel-primary">
    <div class="panel-heading"><h2>Add New Interest </h2></div>
    <div class="panel-body">


        @using (Html.BeginForm("Create", "Tender", FormMethod.Post, new { enctype = "multipart/form-data" }))
        {
            @Html.AntiForgeryToken()

        <div class="form-horizontal">
            <div><input id="clientno" name="clientno" type="hidden" /></div>
            <div><input id="depno" name="depno" type="hidden" /></div>
            <div><input id="employeeno" name="employeeno" type="hidden" /></div>
            <div><input id="worktype" name="worktype" type="hidden" /></div>
            <div class="form-group">
            @Html.Label("Initiation Type ", htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">

                    @Html.DropDownList("InitiationType", new List<SelectListItem>
               {

                     new SelectListItem {Text="Expresion of Interst", Value="Expresion of Interst"},
                     new SelectListItem {Text="Request Letter", Value="Request Letter"},
                     new SelectListItem {Text="Request Letter with TOR", Value="Request Letter with TOR"},
                     new SelectListItem {Text="SBD", Value="SBD"}


                }, "--Select---", new { @class = "form-control", @data_val = "true", @data_val_required = "Type Of Work is reqired" })
                    <div class="valid-feedback">
                        <span class="danger" data-valmsg-for="TypeOfWork" data-valmsg-replace="true"></span>
                    </div>
                </div>

            </div>


            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            <div class="form-group">
                @Html.Label( "Doc Number: ", htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">

                    @Html.TextBoxFor(model => model.TenderDocNumber, new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.TenderDocNumber, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.Label("Client Name", htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-sm-12 col-md-9 col-lg-10">
                    @if (ViewBag.ClientName != null)
                    {
                        @Html.DropDownListFor(model => model.ClientName, ViewBag.ClientName as SelectList, "--Select--", new { @class = "form-control" })
                    }
                    @Html.ValidationMessageFor(model => model.ClientName, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.ProjectName, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">

                    @Html.TextBoxFor(model => model.ProjectName, new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.ProjectName, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.Label("Letter Date:", htmlAttributes: new { @class = "control-label col-md-2" })
                <input id="LetterDate" name="LetterDate" type="date" class="form-control" />
                <div class="valid-feedback">
                    @Html.ValidationMessageFor(model => model.LetterDate, "", new { @class = "text-danger" })
                </div>
            </div>


            <div class="form-group">
                @Html.Label("Tender Closing Date", htmlAttributes: new { @class = "control-label col-md-2" })
                <input id="TenderClosingDate" name="TenderClosingDate"  type="date" class="form-control" />
                
            </div>

            <div class="form-group">
                @Html.Label("Type Of Work ", htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">

                    @Html.DropDownList("TypeOfWork", new List<SelectListItem>
               {

                     new SelectListItem {Text="Supervision", Value="Supervision"},
                     new SelectListItem {Text="Design", Value="Design"},
                     new SelectListItem {Text="Supervision and Design", Value="Supervision and Design"}


                }, "--Select---", new { @class = "form-control", @data_val = "true", @data_val_required = "Type Of Work is reqired" })
                    <div class="valid-feedback">
                        <span class="danger" data-valmsg-for="TypeOfWork" data-valmsg-replace="true"></span>
                    </div>
                </div>

            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.Main_Attachement, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    <div class="col-sm-12 col-md-9 col-lg-10">
                        @Html.TextBox("file", null, new { @class = "form-control", @type = "file", @data_val = "true", @data_val_required = "TOR Attachement is reqired" })
                        <div class="valid-feedback">
                            <span class="has-error" data-valmsg-for="file" data-valmsg-replace="true"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                @Html.Label("Other_Attachment", htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    <div class="col-sm-12 col-md-9 col-lg-10">
                        @Html.TextBox("file1", null, new { @class = "form-control", @type = "file" })
                        <div class="valid-feedback">
                            <span class="has-error" data-valmsg-for="file1" data-valmsg-replace="true"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.Remark, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-sm-12 col-md-9 col-lg-10">
                    @Html.TextAreaFor(model => model.Remark, new { @class = "form-control", @rows = "6" })
                    @Html.ValidationMessageFor(model => model.Remark, "", new { @class = "text-danger" })
                </div>
            </div>


            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Create" class="btn btn-default" />
                </div>
            </div>
        </div>
        }
    </div>
</div>



@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/jqueryval")
<script src="~/Scripts/jquery-3.3.1.js"></script>
<script type="text/javascript">

    $(document).ready(function () {
        $('input:text').each(function () {
            $(this).attr('enable', true);
        });

        $("[id$='ClientName']").change(function () {
            var taxText4 = $("#ClientName option:selected").text();;
            $("#clientno").val(taxText4);
        })
        $("[id$='TypeOfWork']").change(function () {
            var taxText4 = $("#TypeOfWork option:selected").text();;
            $("#worktype").val(taxText4);
        })
        $("[id$='Responsible_Personnel']").change(function () {
            var taxText4 = $("#Responsible_Personnel option:selected").text();;
            $("#employeeno").val(taxText4);

        })
         $("[id$='AssignedTeam']").change(function () {
                var taxText4 = $("#AssignedTeam option:selected").text();;
                $("#depno").val(taxText4);


            })

        });

</script>
